
    <script type="text/javascript">

        getConnectedRooms(-1);

        var currentLocationId;

        function getConnectedRooms(_id) {
            var urlToController = "/api/Location/";
            if (_id != -1) {
                urlToController = "/api/Location/MoveTo/" + _id;
            }

            $.ajax({
                url: urlToController,
                type: 'GET',
                dataType: 'json',
                success: function (data) {
                    writeResponse(data);
                },
                error: function (x, y, z) {
                    alert(x + '\n' + y + '\n' + z);
                }
            });
        }

        function getLocationInfo(_id) {
            $.ajax({
                url: "/api/Location/GetInfo/" + _id,
                type: 'GET',
                dataType: 'json',
                success: function (data) {
                    addTextToStoryBox(data);
                },
                error: function (x, y, z) {
                    alert(x + '\n' + y + '\n' + z);
                }
            });
        }

        function writeResponse(locations) {
            var strLocations = "";
            $.each(locations, function (index, location) {
                // Lenke for å gå til valgt rom
                strLocations += "<input id='btnSubmit" + location.LocationID
                    + "' type='submit' value='" + location.LocationName
                    + "' style=width:100% onclick='moveTo(" + location.LocationID + ");'/>";

            });
            $("#locations").html(strLocations);
        }

        function moveTo(_id) {

            currentLocationId = _id;
            getConnectedRooms(_id);
            getLocationInfo(_id);

        }

    </script>
<div style="padding:1em">
    <h4>NAVIGATION</h4>
    <div id="locations"></div>
</div>